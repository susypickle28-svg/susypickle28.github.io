(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,32308,e=>{"use strict";e.s(["RefreshCcw",()=>t],32308);let t=(0,e.i(75254).default)("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]])},70756,e=>{"use strict";e.s(["Lock",()=>t],70756);let t=(0,e.i(75254).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},59377,e=>{"use strict";e.s(["Popover",()=>q,"PopoverContent",()=>B,"PopoverTrigger",()=>W],59377);var t=e.i(43476),r=e.i(71645),a=e.i(81140),o=e.i(20783),n=e.i(30030),s=e.i(26330),l=e.i(3536),i=e.i(65491),c=e.i(10772),d=e.i(53660),u=e.i(74606),p=e.i(96626),h=e.i(48425),m=e.i(91918),f=e.i(69340),v=e.i(86312),g=e.i(85369),x="Popover",[y,b]=(0,n.createContextScope)(x,[d.createPopperScope]),w=(0,d.createPopperScope)(),[j,S]=y(x),k=e=>{let{__scopePopover:a,children:o,open:n,defaultOpen:s,onOpenChange:l,modal:i=!1}=e,u=w(a),p=r.useRef(null),[h,m]=r.useState(!1),[v,g]=(0,f.useControllableState)({prop:n,defaultProp:null!=s&&s,onChange:l,caller:x});return(0,t.jsx)(d.Root,{...u,children:(0,t.jsx)(j,{scope:a,contentId:(0,c.useId)(),triggerRef:p,open:v,onOpenChange:g,onOpenToggle:r.useCallback(()=>g(e=>!e),[g]),hasCustomAnchor:h,onCustomAnchorAdd:r.useCallback(()=>m(!0),[]),onCustomAnchorRemove:r.useCallback(()=>m(!1),[]),modal:i,children:o})})};k.displayName=x;var C="PopoverAnchor";r.forwardRef((e,a)=>{let{__scopePopover:o,...n}=e,s=S(C,o),l=w(o),{onCustomAnchorAdd:i,onCustomAnchorRemove:c}=s;return r.useEffect(()=>(i(),()=>c()),[i,c]),(0,t.jsx)(d.Anchor,{...l,...n,ref:a})}).displayName=C;var N="PopoverTrigger",E=r.forwardRef((e,r)=>{let{__scopePopover:n,...s}=e,l=S(N,n),i=w(n),c=(0,o.useComposedRefs)(r,l.triggerRef),u=(0,t.jsx)(h.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":F(l.open),...s,ref:c,onClick:(0,a.composeEventHandlers)(e.onClick,l.onOpenToggle)});return l.hasCustomAnchor?u:(0,t.jsx)(d.Anchor,{asChild:!0,...i,children:u})});E.displayName=N;var P="PopoverPortal",[R,T]=y(P,{forceMount:void 0}),D=e=>{let{__scopePopover:r,forceMount:a,children:o,container:n}=e,s=S(P,r);return(0,t.jsx)(R,{scope:r,forceMount:a,children:(0,t.jsx)(p.Presence,{present:a||s.open,children:(0,t.jsx)(u.Portal,{asChild:!0,container:n,children:o})})})};D.displayName=P;var _="PopoverContent",I=r.forwardRef((e,r)=>{let a=T(_,e.__scopePopover),{forceMount:o=a.forceMount,...n}=e,s=S(_,e.__scopePopover);return(0,t.jsx)(p.Presence,{present:o||s.open,children:s.modal?(0,t.jsx)(A,{...n,ref:r}):(0,t.jsx)(O,{...n,ref:r})})});I.displayName=_;var M=(0,m.createSlot)("PopoverContent.RemoveScroll"),A=r.forwardRef((e,n)=>{let s=S(_,e.__scopePopover),l=r.useRef(null),i=(0,o.useComposedRefs)(n,l),c=r.useRef(!1);return r.useEffect(()=>{let e=l.current;if(e)return(0,v.hideOthers)(e)},[]),(0,t.jsx)(g.RemoveScroll,{as:M,allowPinchZoom:!0,children:(0,t.jsx)(z,{...e,ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,a.composeEventHandlers)(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),c.current||null==(t=s.triggerRef.current)||t.focus()}),onPointerDownOutside:(0,a.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;c.current=2===t.button||r},{checkForDefaultPrevented:!1}),onFocusOutside:(0,a.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),O=r.forwardRef((e,a)=>{let o=S(_,e.__scopePopover),n=r.useRef(!1),s=r.useRef(!1);return(0,t.jsx)(z,{...e,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var r,a;null==(r=e.onCloseAutoFocus)||r.call(e,t),t.defaultPrevented||(n.current||null==(a=o.triggerRef.current)||a.focus(),t.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:t=>{var r,a;null==(r=e.onInteractOutside)||r.call(e,t),t.defaultPrevented||(n.current=!0,"pointerdown"===t.detail.originalEvent.type&&(s.current=!0));let l=t.target;(null==(a=o.triggerRef.current)?void 0:a.contains(l))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&s.current&&t.preventDefault()}})}),z=r.forwardRef((e,r)=>{let{__scopePopover:a,trapFocus:o,onOpenAutoFocus:n,onCloseAutoFocus:c,disableOutsidePointerEvents:u,onEscapeKeyDown:p,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:f,...v}=e,g=S(_,a),x=w(a);return(0,l.useFocusGuards)(),(0,t.jsx)(i.FocusScope,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:n,onUnmountAutoFocus:c,children:(0,t.jsx)(s.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:u,onInteractOutside:f,onEscapeKeyDown:p,onPointerDownOutside:h,onFocusOutside:m,onDismiss:()=>g.onOpenChange(!1),children:(0,t.jsx)(d.Content,{"data-state":F(g.open),role:"dialog",id:g.contentId,...x,...v,ref:r,style:{...v.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),L="PopoverClose";function F(e){return e?"open":"closed"}r.forwardRef((e,r)=>{let{__scopePopover:o,...n}=e,s=S(L,o);return(0,t.jsx)(h.Primitive.button,{type:"button",...n,ref:r,onClick:(0,a.composeEventHandlers)(e.onClick,()=>s.onOpenChange(!1))})}).displayName=L,r.forwardRef((e,r)=>{let{__scopePopover:a,...o}=e,n=w(a);return(0,t.jsx)(d.Arrow,{...n,...o,ref:r})}).displayName="PopoverArrow";var H=e.i(47163);function q(e){let{...r}=e;return(0,t.jsx)(k,{"data-slot":"popover",...r})}function W(e){let{...r}=e;return(0,t.jsx)(E,{"data-slot":"popover-trigger",...r})}function B(e){let{className:r,align:a="center",sideOffset:o=4,...n}=e;return(0,t.jsx)(D,{children:(0,t.jsx)(I,{"data-slot":"popover-content",align:a,sideOffset:o,className:(0,H.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",r),...n})})}},71708,e=>{"use strict";e.s(["Root",()=>s,"VISUALLY_HIDDEN_STYLES",()=>o]);var t=e.i(71645),r=e.i(48425),a=e.i(43476),o=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),n=t.forwardRef((e,t)=>(0,a.jsx)(r.Primitive.span,{...e,ref:t,style:{...o,...e.style}}));n.displayName="VisuallyHidden";var s=n},45812,16214,63059,e=>{"use strict";e.s(["useAi",()=>v],45812);var t=e.i(66027),r=e.i(12598),a=e.i(71645),o=e.i(46696),n=e.i(50898);e.s(["MODELS",()=>u,"PROVIDERS",()=>d],16214);let s={src:e.i(76214).default,width:16,height:16,blurWidth:0,blurHeight:0},l={src:e.i(88358).default,width:16,height:16,blurWidth:0,blurHeight:0},i={src:e.i(48045).default,width:16,height:16,blurWidth:0,blurHeight:0},c={src:e.i(69665).default,width:28,height:28,blurWidth:0,blurHeight:0},d={"fireworks-ai":{name:"Fireworks AI",id:"fireworks-ai"},nebius:{name:"Nebius AI Studio",id:"nebius"},sambanova:{name:"SambaNova",id:"sambanova"},novita:{name:"NovitaAI",id:"novita"},hyperbolic:{name:"Hyperbolic",id:"hyperbolic"},together:{name:"Together AI",id:"together"},groq:{name:"Groq",id:"groq"},"zai-org":{name:"Z.ai",id:"zai"}},u=[{value:"deepseek-ai/DeepSeek-V3-0324",label:"DeepSeek V3 O324",providers:["fireworks-ai","nebius","sambanova","novita","hyperbolic"],autoProvider:"novita",logo:s,companyName:"DeepSeek"},{value:"deepseek-ai/DeepSeek-V3.1",label:"DeepSeek V3.1",providers:["fireworks-ai","novita"],autoProvider:"fireworks-ai",logo:s,companyName:"DeepSeek"},{value:"deepseek-ai/DeepSeek-V3.1-Terminus",label:"DeepSeek V3.1 Terminus",providers:["novita"],autoProvider:"novita",logo:s,companyName:"DeepSeek"},{value:"deepseek-ai/DeepSeek-V3.2-Exp",label:"DeepSeek V3.2 Exp",providers:["novita"],autoProvider:"novita",logo:s,isNew:!0,companyName:"DeepSeek"},{value:"Qwen/Qwen3-Coder-480B-A35B-Instruct",label:"Qwen3 Coder 480B A35B Instruct",providers:["novita","hyperbolic"],autoProvider:"novita",logo:l,companyName:"Qwen"},{value:"moonshotai/Kimi-K2-Instruct",label:"Kimi K2 Instruct",providers:["together","novita","groq"],autoProvider:"groq",logo:i,companyName:"Kimi"},{value:"moonshotai/Kimi-K2-Instruct-0905",label:"Kimi K2 Instruct 0905",providers:["together","groq","novita"],autoProvider:"groq",logo:i,companyName:"Kimi"},{value:"zai-org/GLM-4.6",label:"GLM-4.6",logo:c,companyName:"Z.ai"}];var p=e.i(18224),h=e.i(18566),m=e.i(29632),f=e.i(29965);let v=s=>{let l=(0,r.useQueryClient)(),i=(0,a.useRef)(null),{setPages:c,setCurrentPage:d,setPreviewPage:v,setPrompts:g,prompts:x,pages:y,project:b,setProject:w,commits:j,setCommits:S,setLastSavedPages:k,isSameHtml:C}=(0,p.useEditor)(),[N,E]=(0,a.useState)(null),[P,R]=(0,n.useLocalStorage)("provider","auto"),[T,D]=(0,n.useLocalStorage)("model",u[0].value),_=(0,h.useRouter)(),{projects:I,setProjects:M,token:A}=(0,m.useUser)(),O=(0,a.useRef)(new Set),{data:z=!1}=(0,t.useQuery)({queryKey:["ai.isAiWorking"],queryFn:async()=>!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1}),L=e=>{l.setQueryData(["ai.isAiWorking"],e)},{data:F=!1}=(0,t.useQuery)({queryKey:["ai.isThinking"],queryFn:async()=>!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1}),H=e=>{l.setQueryData(["ai.isThinking"],e)},{data:q}=(0,t.useQuery)({queryKey:["ai.selectedElement"],queryFn:async()=>null,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1,initialData:null}),W=e=>{l.setQueryData(["ai.selectedElement"],e)},{data:B=!1}=(0,t.useQuery)({queryKey:["ai.isEditableModeEnabled"],queryFn:async()=>!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1}),V=e=>{l.setQueryData(["ai.isEditableModeEnabled"],e)},{data:K}=(0,t.useQuery)({queryKey:["ai.selectedFiles"],queryFn:async()=>[],refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1,initialData:[]}),U=e=>{l.setQueryData(["ai.selectedFiles"],e)},{data:Q}=(0,t.useQuery)({queryKey:["ai.contextFile"],queryFn:async()=>null,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1,initialData:null}),{data:J}=(0,t.useQuery)({queryKey:["ai.provider"],queryFn:async()=>null!=P?P:"auto",refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1,initialData:null!=P?P:"auto"}),{data:G}=(0,t.useQuery)({queryKey:["ai.model"],queryFn:async()=>{let e=u.find(e=>e.value===T||e.label===T);return e?e.value:u[0].value},refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1,initialData:void 0}),Y=async(e,t,r,a,n)=>{if(a&&n)try{let a=await fetch("/deepsite/api/me/projects/".concat(n,"/new/update"),{method:"PUT",body:JSON.stringify({pages:t,commitTitle:e,isNew:!0,projectName:r}),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(A)}}),s=await a.json();if(!a.ok||!s.ok)throw Error(s.error||"Failed to create project");L(!1),_.replace("/".concat(s.repoId)),o.toast.success("AI responded successfully"),i.current&&i.current.play()}catch(e){L(!1),o.toast.error((null==e?void 0:e.message)||"Failed to create project")}else L(!1),o.toast.success("AI responded successfully"),i.current&&i.current.play()},Z=async(e,t,r,a,n)=>{if(z||!r&&!e.trim())return;L(!0),O.current.clear();let s=new AbortController;E(s);try{let l=await fetch("/deepsite/api/ask",{method:"POST",body:JSON.stringify({prompt:e,provider:J,model:G,redesignMarkdown:r,enhancedSettings:t}),headers:{"Content-Type":"application/json","x-forwarded-for":window.location.hostname,Authorization:"Bearer ".concat(A)},signal:s.signal});if(l&&l.body){let t=l.body.getReader(),r=new TextDecoder("utf-8"),s="",i=async()=>{let{done:l,value:d}=await t.read();if(l){var u,p;let t=s.trim();if(t.startsWith("{")&&t.endsWith("}"))try{let e=JSON.parse(t);if(e&&!e.ok){if(L(!1),e.openLogin)return{error:"login_required"};if(e.openSelectProvider)return{error:"provider_required",message:e.message};if(e.openProModal)return{error:"pro_required"};return o.toast.error(e.message),{error:"api_error",message:e.message}}}catch(e){}let r=$(s,!1),l=null==(p=s.match(/<<<<<<< PROJECT_NAME_START\s*([\s\S]*?)\s*>>>>>>> PROJECT_NAME_END/))||null==(u=p[1])?void 0:u.trim();return l||(l=e.substring(0,40).replace(/[^a-zA-Z0-9]/g,"-").slice(0,40)+"-"+Math.random().toString(36).substring(2,15)),c(r),k([...r]),r.length>0&&!(0,f.isTheSameHtml)(r[0].html)&&Y(e,r,l,a,n),g([...x,e]),{success:!0,pages:r}}let h=r.decode(d,{stream:!0}),m=(s+=h).trim();if(m.startsWith("{")&&m.endsWith("}"))try{let e=JSON.parse(m);if(e&&!e.ok){if(L(!1),e.openLogin)return{error:"login_required"};if(e.openSelectProvider)return{error:"provider_required",message:e.message};if(e.openProModal)return{error:"pro_required"};return o.toast.error(e.message),{error:"api_error",message:e.message}}}catch(e){}return $(s,!0),i()};return await i()}}catch(e){if(L(!1),H(!1),E(null),s.signal.aborted||o.toast.error(e.message||"Network error occurred"),e.openLogin)return{error:"login_required"};return{error:"network_error",message:e.message}}},X=async(t,r,a)=>{if(z||!t.trim())return;L(!0);let n=new AbortController;E(n);try{let s=Q?y.filter(e=>e.path===Q):y,l=await fetch("/deepsite/api/ask",{method:"PUT",body:JSON.stringify({prompt:t,provider:J,previousPrompts:x,model:G,pages:s,selectedElementHtml:null==q?void 0:q.outerHTML,files:K,repoId:null==b?void 0:b.space_id,isNew:a,enhancedSettings:r}),headers:{"Content-Type":"application/json","x-forwarded-for":window.location.hostname,Authorization:"Bearer ".concat(A)},signal:n.signal});if(l&&l.body){let r=l.body.getReader(),n=new TextDecoder("utf-8"),d="",u=null,p=async()=>{let{done:l,value:h}=await r.read();if(l){let r=d.match(/___METADATA_START___([\s\S]*?)___METADATA_END___/);if(r)try{u=JSON.parse(r[1]),d=d.replace(/___METADATA_START___[\s\S]*?___METADATA_END___/,"").trim()}catch(e){console.error("Failed to parse metadata",e)}let n=d.trim();if(n.startsWith("{")&&n.endsWith("}"))try{let e=JSON.parse(n);if(e&&!e.ok){if(L(!1),e.openLogin)return{error:"login_required"};if(e.openSelectProvider)return{error:"provider_required",message:e.message};if(e.openProModal)return{error:"pro_required"};return o.toast.error(e.message),{error:"api_error",message:e.message}}}catch(e){}let{processAiResponse:l,extractProjectName:p}=await e.A(22088),{updatedPages:h,updatedLines:f}=l(d,s),v=new Map(h.map(e=>[e.path,e])),w=y.map(e=>v.has(e.path)?v.get(e.path):e);h.forEach(e=>{y.find(t=>t.path===e.path)||w.push(e)});let C=null;a&&((C=p(d))||(C=t.substring(0,40).replace(/[^a-zA-Z0-9]/g,"-").slice(0,40)+"-"+Math.random().toString(36).substring(2,15)));try{var m;let e=await fetch("/deepsite/api/me/projects/".concat((null==u?void 0:u.userName)||"unknown","/").concat(a?"new":(null==b||null==(m=b.space_id)?void 0:m.split("/")[1])||"unknown","/update"),{method:"PUT",body:JSON.stringify({pages:w,commitTitle:t,isNew:a,projectName:C}),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(A)}}),r=await e.json();if(!e.ok||!r.ok)throw Error(r.error||"Failed to upload to HuggingFace");o.toast.success("AI responded successfully");let n=document.getElementById("preview-iframe");return a&&r.repoId?_.push("/".concat(r.repoId)):(c(w),k([...w]),S([r.commit,...j]),g([...x,t]),W(null),U([]),V(!1)),L(!1),i.current&&i.current.play(),n&&setTimeout(()=>{n.src=n.src},500),{success:!0,updatedLines:f}}catch(e){return L(!1),o.toast.error(e.message||"Failed to save changes"),{error:"upload_error",message:e.message}}}let f=n.decode(h,{stream:!0}),v=(d+=f).trim();if(v.startsWith("{")&&v.endsWith("}"))try{let e=JSON.parse(v);if(e&&!e.ok){if(L(!1),e.openLogin)return{error:"login_required"};if(e.openSelectProvider)return{error:"provider_required",message:e.message};if(e.openProModal)return{error:"pro_required"};return o.toast.error(e.message),{error:"api_error",message:e.message}}}catch(e){}return p()};return await p()}}catch(e){if(L(!1),H(!1),E(null),n.signal.aborted||o.toast.error(e.message||"Network error occurred"),e.openLogin)return{error:"login_required"};return{error:"network_error",message:e.message}}},$=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=[];if(!e.match(/<<<<<<< NEW_FILE_START (.*?) >>>>>>> NEW_FILE_END/))return r;let a=e.replace(/[\s\S]*?<<<<<<< NEW_FILE_START (.*?) >>>>>>> NEW_FILE_END/,"<<<<<<< NEW_FILE_START $1 >>>>>>> NEW_FILE_END").split(/<<<<<<< NEW_FILE_START (.*?) >>>>>>> NEW_FILE_END/),o=new Set;if(a.forEach((e,t)=>{if(o.has(t)||!(null==e?void 0:e.trim()))return;let n=e.trim(),l=ee(a[t+1],n);l&&(r.push({path:n,html:l}),l.length>200&&(null==s||s()),o.add(t),o.add(t+1))}),r.length>0)if(c(r),t){let e=r.filter(e=>!O.current.has(e.path));if(e.length>0){let t=e[0];d(t.path),O.current.add(t.path),t.path.endsWith(".html")&&!t.path.includes("/components/")&&v(t.path)}}else{O.current.clear();let e=r.find(e=>"index.html"===e.path||"index"===e.path||"/"===e.path);e&&d(e.path)}return r},ee=(e,t)=>{if(!e)return"";let r=e.trim();if(t.endsWith(".css")){let e=r.match(/```css\s*([\s\S]*?)\s*```/);return(r=e?e[1]:r.replace(/^```css\s*/i,"")).replace(/```/g,"").trim()}if(t.endsWith(".js")){let e=r.match(/```(?:javascript|js)\s*([\s\S]*?)\s*```/);return(r=e?e[1]:r.replace(/^```(?:javascript|js)\s*/i,"")).replace(/```/g,"").trim()}{let e=r.match(/```html\s*([\s\S]*?)\s*```/);if(e)r=e[1];else{let e=(r=r.replace(/^```html\s*/i,"")).match(/<!DOCTYPE html>[\s\S]*/);e&&(r=e[0])}let t=r.replace(/```/g,"");return et(t)}},et=e=>{let t=e;return t.includes("<head>")&&!t.includes("</head>")&&(t+="\n</head>"),t.includes("<body")&&!t.includes("</body>")&&(t+="\n</body>"),t.includes("</html>")||(t+="\n</html>"),t},er=(0,a.useMemo)(()=>u.find(e=>e.value===G||e.label===G),[G]);return{isThinking:F,setIsThinking:H,callAiNewProject:Z,callAiFollowUp:X,isAiWorking:z,setIsAiWorking:L,selectedElement:q,setSelectedElement:W,selectedFiles:K,setSelectedFiles:U,contextFile:Q,setContextFile:e=>{l.setQueryData(["ai.contextFile"],e)},isEditableModeEnabled:B,setIsEditableModeEnabled:V,globalAiLoading:F||z,cancelRequest:()=>{N&&(N.abort(),E(null)),L(!1),H(!1)},model:G,setModel:e=>{D(e),l.setQueryData(["ai.model"],e)},provider:J,setProvider:e=>{R(e),l.setQueryData(["ai.provider"],e)},selectedModel:er,audio:i}};e.s(["ChevronRight",()=>g.default],63059);var g=e.i(46349)},31171,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(75254).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},64659,e=>{"use strict";e.s(["ChevronDown",()=>t.default]);var t=e.i(31171)},75558,83715,e=>{"use strict";e.s(["ArrowUp",()=>r],75558);var t=e.i(75254);let r=(0,t.default)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);e.s(["Dice6",()=>a],83715);let a=(0,t.default)("dice-6",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 12h.01",key:"czm47f"}],["path",{d:"M8 16h.01",key:"18s6g9"}]])},81771,e=>{"use strict";e.s(["default",()=>a]);var t=e.i(43476),r=e.i(43794);let a=function(e){let{overlay:a=!0,className:o}=e;return(0,t.jsx)("div",{className:(0,r.default)("",{"absolute left-0 top-0 h-full w-full flex items-center justify-center z-20 bg-black/50 rounded-full":a}),children:(0,t.jsxs)("svg",{className:"size-5 animate-spin text-white ".concat(o),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})}},68983,e=>{"use strict";e.s(["WandSparkles",()=>t],68983);let t=(0,e.i(75254).default)("wand-sparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]])},75735,99682,e=>{"use strict";e.s(["PromptBuilder",()=>L],75735);var t=e.i(43476),r=e.i(71645),a=e.i(68983),o=e.i(67881),n=e.i(18224),s=e.i(45812),l=e.i(30374),i=e.i(43794),c=e.i(63059),d=e.i(32308);let u=["red","rose","pink","fuchsia","orange","amber","yellow","lime","green","emerald","teal","cyan","sky","blue","indigo","violet","purple","gray","neutral","slate","zinc","stone","black","white"];var p=e.i(45042);let h=e=>{let{value:a,onChange:o}=e,n=(0,r.useRef)(null);return(0,p.useMount)(()=>{if(n.current&&a){let e=n.current.querySelector('[data-color="'.concat(a,'"]'));e&&e.scrollIntoView({inline:"center"})}}),(0,t.jsx)("div",{ref:n,className:"flex items-center justify-start gap-3 overflow-x-auto px-5 scrollbar-hide",children:u.map(e=>(0,t.jsxs)("div",{className:(0,i.default)("flex flex-col items-center justify-center p-3 size-16 min-w-16 gap-2 rounded-lg border border-neutral-800 bg-neutral-800/30 hover:brightness-120 cursor-pointer",{"!border-neutral-700 !bg-neutral-800/80 hover:!brightness-100":a===e}),"data-color":e,onClick:()=>o(e),children:[(0,t.jsx)("div",{className:"w-4 h-4 min-w-4 min-h-4 rounded-xl ".concat(["white","black"].includes(e)?"bg-".concat(e):"bg-".concat(e,"-500"))}),(0,t.jsx)("p",{className:"text-xs capitalize text-neutral-200 truncate",children:e})]},e))})};var m=e.i(81140),f=e.i(20783),v=e.i(30030),g=e.i(69340);function x(e){let t=r.useRef({value:e,previous:e});return r.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}e.s(["usePrevious",()=>x],99682);var y=e.i(35804),b=e.i(48425),w="Switch",[j,S]=(0,v.createContextScope)(w),[k,C]=j(w),N=r.forwardRef((e,a)=>{let{__scopeSwitch:o,name:n,checked:s,defaultChecked:l,required:i,disabled:c,value:d="on",onCheckedChange:u,form:p,...h}=e,[v,x]=r.useState(null),y=(0,f.useComposedRefs)(a,e=>x(e)),j=r.useRef(!1),S=!v||p||!!v.closest("form"),[C,N]=(0,g.useControllableState)({prop:s,defaultProp:null!=l&&l,onChange:u,caller:w});return(0,t.jsxs)(k,{scope:o,checked:C,disabled:c,children:[(0,t.jsx)(b.Primitive.button,{type:"button",role:"switch","aria-checked":C,"aria-required":i,"data-state":T(C),"data-disabled":c?"":void 0,disabled:c,value:d,...h,ref:y,onClick:(0,m.composeEventHandlers)(e.onClick,e=>{N(e=>!e),S&&(j.current=e.isPropagationStopped(),j.current||e.stopPropagation())})}),S&&(0,t.jsx)(R,{control:v,bubbles:!j.current,name:n,value:d,checked:C,required:i,disabled:c,form:p,style:{transform:"translateX(-100%)"}})]})});N.displayName=w;var E="SwitchThumb",P=r.forwardRef((e,r)=>{let{__scopeSwitch:a,...o}=e,n=C(E,a);return(0,t.jsx)(b.Primitive.span,{"data-state":T(n.checked),"data-disabled":n.disabled?"":void 0,...o,ref:r})});P.displayName=E;var R=r.forwardRef((e,a)=>{let{__scopeSwitch:o,control:n,checked:s,bubbles:l=!0,...i}=e,c=r.useRef(null),d=(0,f.useComposedRefs)(c,a),u=x(s),p=(0,y.useSize)(n);return r.useEffect(()=>{let e=c.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(u!==s&&t){let r=new Event("click",{bubbles:l});t.call(e,s),e.dispatchEvent(r)}},[u,s,l]),(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...i,tabIndex:-1,ref:d,style:{...i.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function T(e){return e?"checked":"unchecked"}R.displayName="SwitchBubbleInput";var D=e.i(47163);function _(e){let{className:r,...a}=e;return(0,t.jsx)(N,{"data-slot":"switch",className:(0,D.cn)("peer data-[state=checked]:bg-emerald-500 data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.25rem] w-9 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",r),...a,children:(0,t.jsx)(P,{"data-slot":"switch-thumb",className:(0,D.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-white pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%+1px)] data-[state=unchecked]:translate-x-[1px]")})})}var I=e.i(75254);let M=(0,I.default)("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]),A=(0,I.default)("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),O=e=>{let{value:a,onChange:o}=e,n=(0,r.useRef)(null);return(0,t.jsxs)("div",{ref:n,className:"flex items-center justify-start gap-3 overflow-x-auto px-5 scrollbar-hide",children:[(0,t.jsxs)("div",{className:(0,i.default)("flex flex-col items-center justify-center p-3 size-16 min-w-32 gap-2 rounded-lg border border-neutral-800 bg-neutral-800/30 hover:brightness-120 cursor-pointer",{"!border-neutral-700 !bg-neutral-800/80 hover:!brightness-100":"light"===a}),onClick:()=>o("light"),children:[(0,t.jsx)(A,{className:"size-4 text-amber-500"}),(0,t.jsx)("p",{className:"text-xs capitalize text-neutral-200 truncate",children:"Light"})]}),(0,t.jsxs)("div",{className:(0,i.default)("flex flex-col items-center justify-center p-3 size-16 min-w-32 gap-2 rounded-lg border border-neutral-800 bg-neutral-800/30 hover:brightness-120 cursor-pointer",{"!border-neutral-700 !bg-neutral-800/80 hover:!brightness-100":"dark"===a}),onClick:()=>o("dark"),children:[(0,t.jsx)(M,{className:"size-4 text-indigo-500"}),(0,t.jsx)("p",{className:"text-xs capitalize text-neutral-200 truncate",children:"Dark"})]})]})},z=e=>{let{enhancedSettings:a,setEnhancedSettings:n}=e,[s,l]=(0,r.useState)(["colors","theme"]);return(0,t.jsxs)("main",{className:"overflow-x-hidden max-h-[50dvh] overflow-y-auto",children:[(0,t.jsxs)("section",{className:"w-full border-b border-neutral-800/80 px-6 py-3.5 sticky top-0 bg-neutral-900 z-10",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,t.jsx)("p",{className:"text-base font-semibold text-neutral-200",children:"Allow DeepSite to enhance your prompt"}),(0,t.jsx)(_,{checked:a.isActive,onCheckedChange:()=>n({...a,isActive:!a.isActive})})]}),(0,t.jsx)("p",{className:"text-sm text-neutral-500 mt-2",children:"While using DeepSite enhanced prompt, you'll get better results. We'll add more details and features to your request."}),(0,t.jsx)("div",{className:"text-sm text-sky-500 mt-3 bg-gradient-to-r from-sky-400/15 to-purple-400/15 rounded-md px-3 py-2 border border-white/10",children:(0,t.jsx)("p",{className:"text-transparent bg-gradient-to-r from-sky-400 to-purple-400 bg-clip-text",children:"You can also use the custom properties below to set specific information."})})]}),(0,t.jsxs)("section",{className:"py-3.5 border-b border-neutral-800/80",children:[(0,t.jsxs)("div",{className:(0,i.default)("flex items-center justify-start gap-3 px-4 cursor-pointer text-neutral-400 hover:text-neutral-200",{"!text-neutral-200":s.includes("colors")}),onClick:()=>l(e=>e.includes("colors")?e.filter(e=>"colors"!==e):[...e,"colors"]),children:[(0,t.jsx)(c.ChevronRight,{className:"size-4"}),(0,t.jsx)("p",{className:"text-base font-semibold",children:"Colors"})]}),s.includes("colors")&&(0,t.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,t.jsxs)("article",{className:"w-full",children:[(0,t.jsxs)("div",{className:"flex items-center justify-start gap-2 px-5",children:[(0,t.jsx)("p",{className:"text-xs font-medium uppercase text-neutral-400",children:"Primary Color"}),(0,t.jsxs)(o.Button,{variant:"bordered",size:"xss",className:"".concat(a.primaryColor?"":"opacity-0"),onClick:()=>n({...a,primaryColor:void 0}),children:[(0,t.jsx)(d.RefreshCcw,{className:"size-2.5"}),"Reset"]})]}),(0,t.jsx)("div",{className:"text-muted-foreground text-sm mt-4",children:(0,t.jsx)(h,{value:a.primaryColor,onChange:e=>n({...a,primaryColor:e})})})]}),(0,t.jsxs)("article",{className:"w-full",children:[(0,t.jsxs)("div",{className:"flex items-center justify-start gap-2 px-5",children:[(0,t.jsx)("p",{className:"text-xs font-medium uppercase text-neutral-400",children:"Secondary Color"}),(0,t.jsxs)(o.Button,{variant:"bordered",size:"xss",className:"".concat(a.secondaryColor?"":"opacity-0"),onClick:()=>n({...a,secondaryColor:void 0}),children:[(0,t.jsx)(d.RefreshCcw,{className:"size-2.5"}),"Reset"]})]}),(0,t.jsx)("div",{className:"text-muted-foreground text-sm mt-4",children:(0,t.jsx)(h,{value:a.secondaryColor,onChange:e=>n({...a,secondaryColor:e})})})]})]})]}),(0,t.jsxs)("section",{className:"py-3.5 border-b border-neutral-800/80",children:[(0,t.jsxs)("div",{className:(0,i.default)("flex items-center justify-start gap-3 px-4 cursor-pointer text-neutral-400 hover:text-neutral-200",{"!text-neutral-200":s.includes("theme")}),onClick:()=>l(e=>e.includes("theme")?e.filter(e=>"theme"!==e):[...e,"theme"]),children:[(0,t.jsx)(c.ChevronRight,{className:"size-4"}),(0,t.jsx)("p",{className:"text-base font-semibold",children:"Theme"})]}),s.includes("theme")&&(0,t.jsxs)("article",{className:"w-full mt-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-start gap-2 px-5",children:[(0,t.jsx)("p",{className:"text-xs font-medium uppercase text-neutral-400",children:"Theme"}),(0,t.jsxs)(o.Button,{variant:"bordered",size:"xss",className:"".concat(a.theme?"":"opacity-0"),onClick:()=>n({...a,theme:void 0}),children:[(0,t.jsx)(d.RefreshCcw,{className:"size-2.5"}),"Reset"]})]}),(0,t.jsx)("div",{className:"text-muted-foreground text-sm mt-4",children:(0,t.jsx)(O,{value:a.theme,onChange:e=>n({...a,theme:e})})})]})]})]})},L=e=>{let{enhancedSettings:i,setEnhancedSettings:c}=e,{globalAiLoading:d}=(0,s.useAi)(),{globalEditorLoading:u}=(0,n.useEditor)(),[p,h]=(0,r.useState)(!1);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(o.Button,{size:"xs",variant:"outline",className:"!rounded-md !border-white/10 !bg-gradient-to-r from-sky-400/15 to-purple-400/15 light-sweep hover:brightness-110",disabled:d||u,onClick:()=>{h(!0)},children:[(0,t.jsx)(a.WandSparkles,{className:"size-3.5 text-sky-500 relative z-10"}),(0,t.jsx)("span",{className:"text-transparent bg-gradient-to-r from-sky-400 to-purple-400 bg-clip-text relative z-10",children:"Enhance"})]}),(0,t.jsx)(l.Dialog,{open:p,onOpenChange:()=>h(!1),children:(0,t.jsxs)(l.DialogContent,{className:"sm:max-w-xl !p-0 !rounded-3xl !bg-neutral-900 !border-neutral-800/80 !gap-0",children:[(0,t.jsx)(l.DialogTitle,{className:"px-6 py-3.5 border-b border-neutral-800",children:(0,t.jsxs)("div",{className:"flex items-center justify-start gap-2 text-neutral-200 text-base font-medium",children:[(0,t.jsx)(a.WandSparkles,{className:"size-3.5"}),(0,t.jsx)("p",{children:"Enhance Prompt"})]})}),(0,t.jsx)(z,{enhancedSettings:i,setEnhancedSettings:c}),(0,t.jsx)(l.DialogFooter,{className:"px-6 py-3.5 border-t border-neutral-800",children:(0,t.jsx)(o.Button,{variant:"bordered",size:"default",onClick:()=>h(!1),children:"Close"})})]})})]})}},70152,e=>{"use strict";function t(e,t){let[r,a]=t;return Math.min(a,Math.max(r,e))}e.s(["clamp",()=>t])},29402,e=>{"use strict";e.s(["Content",()=>eI,"Group",()=>eA,"Icon",()=>eD,"Item",()=>ez,"ItemIndicator",()=>eF,"ItemText",()=>eL,"Label",()=>eO,"Portal",()=>e_,"Root",()=>eP,"ScrollDownButton",()=>eq,"ScrollUpButton",()=>eH,"Separator",()=>eW,"Trigger",()=>eR,"Value",()=>eT,"Viewport",()=>eM]);var t=e.i(71645),r=e.i(74080),a=e.i(70152),o=e.i(81140),n=e.i(75830),s=e.i(20783),l=e.i(30030),i=e.i(86318),c=e.i(26330),d=e.i(3536),u=e.i(65491),p=e.i(10772),h=e.i(53660),m=e.i(74606),f=e.i(48425),v=e.i(91918),g=e.i(30207),x=e.i(69340),y=e.i(34620),b=e.i(99682),w=e.i(71708),j=e.i(86312),S=e.i(85369),k=e.i(43476),C=[" ","Enter","ArrowUp","ArrowDown"],N=[" ","Enter"],E="Select",[P,R,T]=(0,n.createCollection)(E),[D,_]=(0,l.createContextScope)(E,[T,h.createPopperScope]),I=(0,h.createPopperScope)(),[M,A]=D(E),[O,z]=D(E),L=e=>{let{__scopeSelect:r,children:a,open:o,defaultOpen:n,onOpenChange:s,value:l,defaultValue:c,onValueChange:d,dir:u,name:m,autoComplete:f,disabled:v,required:g,form:y}=e,b=I(r),[w,j]=t.useState(null),[S,C]=t.useState(null),[N,R]=t.useState(!1),T=(0,i.useDirection)(u),[D,_]=(0,x.useControllableState)({prop:o,defaultProp:null!=n&&n,onChange:s,caller:E}),[A,z]=(0,x.useControllableState)({prop:l,defaultProp:c,onChange:d,caller:E}),L=t.useRef(null),F=!w||y||!!w.closest("form"),[H,q]=t.useState(new Set),W=Array.from(H).map(e=>e.props.value).join(";");return(0,k.jsx)(h.Root,{...b,children:(0,k.jsxs)(M,{required:g,scope:r,trigger:w,onTriggerChange:j,valueNode:S,onValueNodeChange:C,valueNodeHasChildren:N,onValueNodeHasChildrenChange:R,contentId:(0,p.useId)(),value:A,onValueChange:z,open:D,onOpenChange:_,dir:T,triggerPointerDownPosRef:L,disabled:v,children:[(0,k.jsx)(P.Provider,{scope:r,children:(0,k.jsx)(O,{scope:e.__scopeSelect,onNativeOptionAdd:t.useCallback(e=>{q(t=>new Set(t).add(e))},[]),onNativeOptionRemove:t.useCallback(e=>{q(t=>{let r=new Set(t);return r.delete(e),r})},[]),children:a})}),F?(0,k.jsxs)(ek,{"aria-hidden":!0,required:g,tabIndex:-1,name:m,autoComplete:f,value:A,onChange:e=>z(e.target.value),disabled:v,form:y,children:[void 0===A?(0,k.jsx)("option",{value:""}):null,Array.from(H)]},W):null]})})};L.displayName=E;var F="SelectTrigger",H=t.forwardRef((e,r)=>{let{__scopeSelect:a,disabled:n=!1,...l}=e,i=I(a),c=A(F,a),d=c.disabled||n,u=(0,s.useComposedRefs)(r,c.onTriggerChange),p=R(a),m=t.useRef("touch"),[v,g,x]=eN(e=>{let t=p().filter(e=>!e.disabled),r=t.find(e=>e.value===c.value),a=eE(t,e,r);void 0!==a&&c.onValueChange(a.value)}),y=e=>{d||(c.onOpenChange(!0),x()),e&&(c.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,k.jsx)(h.Anchor,{asChild:!0,...i,children:(0,k.jsx)(f.Primitive.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":eC(c.value)?"":void 0,...l,ref:u,onClick:(0,o.composeEventHandlers)(l.onClick,e=>{e.currentTarget.focus(),"mouse"!==m.current&&y(e)}),onPointerDown:(0,o.composeEventHandlers)(l.onPointerDown,e=>{m.current=e.pointerType;let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(y(e),e.preventDefault())}),onKeyDown:(0,o.composeEventHandlers)(l.onKeyDown,e=>{let t=""!==v.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||g(e.key),(!t||" "!==e.key)&&C.includes(e.key)&&(y(),e.preventDefault())})})})});H.displayName=F;var q="SelectValue",W=t.forwardRef((e,t)=>{let{__scopeSelect:r,className:a,style:o,children:n,placeholder:l="",...i}=e,c=A(q,r),{onValueNodeHasChildrenChange:d}=c,u=void 0!==n,p=(0,s.useComposedRefs)(t,c.onValueNodeChange);return(0,y.useLayoutEffect)(()=>{d(u)},[d,u]),(0,k.jsx)(f.Primitive.span,{...i,ref:p,style:{pointerEvents:"none"},children:eC(c.value)?(0,k.jsx)(k.Fragment,{children:l}):n})});W.displayName=q;var B=t.forwardRef((e,t)=>{let{__scopeSelect:r,children:a,...o}=e;return(0,k.jsx)(f.Primitive.span,{"aria-hidden":!0,...o,ref:t,children:a||"▼"})});B.displayName="SelectIcon";var V=e=>(0,k.jsx)(m.Portal,{asChild:!0,...e});V.displayName="SelectPortal";var K="SelectContent",U=t.forwardRef((e,a)=>{let o=A(K,e.__scopeSelect),[n,s]=t.useState();return((0,y.useLayoutEffect)(()=>{s(new DocumentFragment)},[]),o.open)?(0,k.jsx)(Y,{...e,ref:a}):n?r.createPortal((0,k.jsx)(Q,{scope:e.__scopeSelect,children:(0,k.jsx)(P.Slot,{scope:e.__scopeSelect,children:(0,k.jsx)("div",{children:e.children})})}),n):null});U.displayName=K;var[Q,J]=D(K),G=(0,v.createSlot)("SelectContent.RemoveScroll"),Y=t.forwardRef((e,r)=>{let{__scopeSelect:a,position:n="item-aligned",onCloseAutoFocus:l,onEscapeKeyDown:i,onPointerDownOutside:p,side:h,sideOffset:m,align:f,alignOffset:v,arrowPadding:g,collisionBoundary:x,collisionPadding:y,sticky:b,hideWhenDetached:w,avoidCollisions:C,...N}=e,E=A(K,a),[P,T]=t.useState(null),[D,_]=t.useState(null),I=(0,s.useComposedRefs)(r,e=>T(e)),[M,O]=t.useState(null),[z,L]=t.useState(null),F=R(a),[H,q]=t.useState(!1),W=t.useRef(!1);t.useEffect(()=>{if(P)return(0,j.hideOthers)(P)},[P]),(0,d.useFocusGuards)();let B=t.useCallback(e=>{let[t,...r]=F().map(e=>e.ref.current),[a]=r.slice(-1),o=document.activeElement;for(let r of e)if(r===o||(null==r||r.scrollIntoView({block:"nearest"}),r===t&&D&&(D.scrollTop=0),r===a&&D&&(D.scrollTop=D.scrollHeight),null==r||r.focus(),document.activeElement!==o))return},[F,D]),V=t.useCallback(()=>B([M,P]),[B,M,P]);t.useEffect(()=>{H&&V()},[H,V]);let{onOpenChange:U,triggerPointerDownPosRef:J}=E;t.useEffect(()=>{if(P){let e={x:0,y:0},t=t=>{var r,a,o,n;e={x:Math.abs(Math.round(t.pageX)-(null!=(o=null==(r=J.current)?void 0:r.x)?o:0)),y:Math.abs(Math.round(t.pageY)-(null!=(n=null==(a=J.current)?void 0:a.y)?n:0))}},r=r=>{e.x<=10&&e.y<=10?r.preventDefault():P.contains(r.target)||U(!1),document.removeEventListener("pointermove",t),J.current=null};return null!==J.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",r,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",r,{capture:!0})}}},[P,U,J]),t.useEffect(()=>{let e=()=>U(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[U]);let[Y,$]=eN(e=>{let t=F().filter(e=>!e.disabled),r=t.find(e=>e.ref.current===document.activeElement),a=eE(t,e,r);a&&setTimeout(()=>a.ref.current.focus())}),ee=t.useCallback((e,t,r)=>{let a=!W.current&&!r;(void 0!==E.value&&E.value===t||a)&&(O(e),a&&(W.current=!0))},[E.value]),et=t.useCallback(()=>null==P?void 0:P.focus(),[P]),er=t.useCallback((e,t,r)=>{let a=!W.current&&!r;(void 0!==E.value&&E.value===t||a)&&L(e)},[E.value]),ea="popper"===n?X:Z,eo=ea===X?{side:h,sideOffset:m,align:f,alignOffset:v,arrowPadding:g,collisionBoundary:x,collisionPadding:y,sticky:b,hideWhenDetached:w,avoidCollisions:C}:{};return(0,k.jsx)(Q,{scope:a,content:P,viewport:D,onViewportChange:_,itemRefCallback:ee,selectedItem:M,onItemLeave:et,itemTextRefCallback:er,focusSelectedItem:V,selectedItemText:z,position:n,isPositioned:H,searchRef:Y,children:(0,k.jsx)(S.RemoveScroll,{as:G,allowPinchZoom:!0,children:(0,k.jsx)(u.FocusScope,{asChild:!0,trapped:E.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:(0,o.composeEventHandlers)(l,e=>{var t;null==(t=E.trigger)||t.focus({preventScroll:!0}),e.preventDefault()}),children:(0,k.jsx)(c.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:p,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:(0,k.jsx)(ea,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:e=>e.preventDefault(),...N,...eo,onPlaced:()=>q(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:(0,o.composeEventHandlers)(N.onKeyDown,e=>{let t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||$(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=F().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){let r=e.target,a=t.indexOf(r);t=t.slice(a+1)}setTimeout(()=>B(t)),e.preventDefault()}})})})})})})});Y.displayName="SelectContentImpl";var Z=t.forwardRef((e,r)=>{let{__scopeSelect:o,onPlaced:n,...l}=e,i=A(K,o),c=J(K,o),[d,u]=t.useState(null),[p,h]=t.useState(null),m=(0,s.useComposedRefs)(r,e=>h(e)),v=R(o),g=t.useRef(!1),x=t.useRef(!0),{viewport:b,selectedItem:w,selectedItemText:j,focusSelectedItem:S}=c,C=t.useCallback(()=>{if(i.trigger&&i.valueNode&&d&&p&&b&&w&&j){let e=i.trigger.getBoundingClientRect(),t=p.getBoundingClientRect(),r=i.valueNode.getBoundingClientRect(),o=j.getBoundingClientRect();if("rtl"!==i.dir){let n=o.left-t.left,s=r.left-n,l=e.left-s,i=e.width+l,c=Math.max(i,t.width),u=window.innerWidth-10,p=(0,a.clamp)(s,[10,Math.max(10,u-c)]);d.style.minWidth=i+"px",d.style.left=p+"px"}else{let n=t.right-o.right,s=window.innerWidth-r.right-n,l=window.innerWidth-e.right-s,i=e.width+l,c=Math.max(i,t.width),u=window.innerWidth-10,p=(0,a.clamp)(s,[10,Math.max(10,u-c)]);d.style.minWidth=i+"px",d.style.right=p+"px"}let s=v(),l=window.innerHeight-20,c=b.scrollHeight,u=window.getComputedStyle(p),h=parseInt(u.borderTopWidth,10),m=parseInt(u.paddingTop,10),f=parseInt(u.borderBottomWidth,10),x=h+m+c+parseInt(u.paddingBottom,10)+f,y=Math.min(5*w.offsetHeight,x),S=window.getComputedStyle(b),k=parseInt(S.paddingTop,10),C=parseInt(S.paddingBottom,10),N=e.top+e.height/2-10,E=w.offsetHeight/2,P=h+m+(w.offsetTop+E);if(P<=N){let e=s.length>0&&w===s[s.length-1].ref.current;d.style.bottom="0px";let t=Math.max(l-N,E+(e?C:0)+(p.clientHeight-b.offsetTop-b.offsetHeight)+f);d.style.height=P+t+"px"}else{let e=s.length>0&&w===s[0].ref.current;d.style.top="0px";let t=Math.max(N,h+b.offsetTop+(e?k:0)+E);d.style.height=t+(x-P)+"px",b.scrollTop=P-N+b.offsetTop}d.style.margin="".concat(10,"px 0"),d.style.minHeight=y+"px",d.style.maxHeight=l+"px",null==n||n(),requestAnimationFrame(()=>g.current=!0)}},[v,i.trigger,i.valueNode,d,p,b,w,j,i.dir,n]);(0,y.useLayoutEffect)(()=>C(),[C]);let[N,E]=t.useState();(0,y.useLayoutEffect)(()=>{p&&E(window.getComputedStyle(p).zIndex)},[p]);let P=t.useCallback(e=>{e&&!0===x.current&&(C(),null==S||S(),x.current=!1)},[C,S]);return(0,k.jsx)($,{scope:o,contentWrapper:d,shouldExpandOnScrollRef:g,onScrollButtonChange:P,children:(0,k.jsx)("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:(0,k.jsx)(f.Primitive.div,{...l,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...l.style}})})})});Z.displayName="SelectItemAlignedPosition";var X=t.forwardRef((e,t)=>{let{__scopeSelect:r,align:a="start",collisionPadding:o=10,...n}=e,s=I(r);return(0,k.jsx)(h.Content,{...s,...n,ref:t,align:a,collisionPadding:o,style:{boxSizing:"border-box",...n.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});X.displayName="SelectPopperPosition";var[$,ee]=D(K,{}),et="SelectViewport",er=t.forwardRef((e,r)=>{let{__scopeSelect:a,nonce:n,...l}=e,i=J(et,a),c=ee(et,a),d=(0,s.useComposedRefs)(r,i.onViewportChange),u=t.useRef(0);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),(0,k.jsx)(P.Slot,{scope:a,children:(0,k.jsx)(f.Primitive.div,{"data-radix-select-viewport":"",role:"presentation",...l,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...l.style},onScroll:(0,o.composeEventHandlers)(l.onScroll,e=>{let t=e.currentTarget,{contentWrapper:r,shouldExpandOnScrollRef:a}=c;if((null==a?void 0:a.current)&&r){let e=Math.abs(u.current-t.scrollTop);if(e>0){let a=window.innerHeight-20,o=Math.max(parseFloat(r.style.minHeight),parseFloat(r.style.height));if(o<a){let n=o+e,s=Math.min(a,n),l=n-s;r.style.height=s+"px","0px"===r.style.bottom&&(t.scrollTop=l>0?l:0,r.style.justifyContent="flex-end")}}}u.current=t.scrollTop})})})]})});er.displayName=et;var ea="SelectGroup",[eo,en]=D(ea),es=t.forwardRef((e,t)=>{let{__scopeSelect:r,...a}=e,o=(0,p.useId)();return(0,k.jsx)(eo,{scope:r,id:o,children:(0,k.jsx)(f.Primitive.div,{role:"group","aria-labelledby":o,...a,ref:t})})});es.displayName=ea;var el="SelectLabel",ei=t.forwardRef((e,t)=>{let{__scopeSelect:r,...a}=e,o=en(el,r);return(0,k.jsx)(f.Primitive.div,{id:o.id,...a,ref:t})});ei.displayName=el;var ec="SelectItem",[ed,eu]=D(ec),ep=t.forwardRef((e,r)=>{let{__scopeSelect:a,value:n,disabled:l=!1,textValue:i,...c}=e,d=A(ec,a),u=J(ec,a),h=d.value===n,[m,v]=t.useState(null!=i?i:""),[g,x]=t.useState(!1),y=(0,s.useComposedRefs)(r,e=>{var t;return null==(t=u.itemRefCallback)?void 0:t.call(u,e,n,l)}),b=(0,p.useId)(),w=t.useRef("touch"),j=()=>{l||(d.onValueChange(n),d.onOpenChange(!1))};if(""===n)throw Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,k.jsx)(ed,{scope:a,value:n,disabled:l,textId:b,isSelected:h,onItemTextChange:t.useCallback(e=>{v(t=>{var r;return t||(null!=(r=null==e?void 0:e.textContent)?r:"").trim()})},[]),children:(0,k.jsx)(P.ItemSlot,{scope:a,value:n,disabled:l,textValue:m,children:(0,k.jsx)(f.Primitive.div,{role:"option","aria-labelledby":b,"data-highlighted":g?"":void 0,"aria-selected":h&&g,"data-state":h?"checked":"unchecked","aria-disabled":l||void 0,"data-disabled":l?"":void 0,tabIndex:l?void 0:-1,...c,ref:y,onFocus:(0,o.composeEventHandlers)(c.onFocus,()=>x(!0)),onBlur:(0,o.composeEventHandlers)(c.onBlur,()=>x(!1)),onClick:(0,o.composeEventHandlers)(c.onClick,()=>{"mouse"!==w.current&&j()}),onPointerUp:(0,o.composeEventHandlers)(c.onPointerUp,()=>{"mouse"===w.current&&j()}),onPointerDown:(0,o.composeEventHandlers)(c.onPointerDown,e=>{w.current=e.pointerType}),onPointerMove:(0,o.composeEventHandlers)(c.onPointerMove,e=>{if(w.current=e.pointerType,l){var t;null==(t=u.onItemLeave)||t.call(u)}else"mouse"===w.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:(0,o.composeEventHandlers)(c.onPointerLeave,e=>{if(e.currentTarget===document.activeElement){var t;null==(t=u.onItemLeave)||t.call(u)}}),onKeyDown:(0,o.composeEventHandlers)(c.onKeyDown,e=>{var t;((null==(t=u.searchRef)?void 0:t.current)===""||" "!==e.key)&&(N.includes(e.key)&&j()," "===e.key&&e.preventDefault())})})})})});ep.displayName=ec;var eh="SelectItemText",em=t.forwardRef((e,a)=>{let{__scopeSelect:o,className:n,style:l,...i}=e,c=A(eh,o),d=J(eh,o),u=eu(eh,o),p=z(eh,o),[h,m]=t.useState(null),v=(0,s.useComposedRefs)(a,e=>m(e),u.onItemTextChange,e=>{var t;return null==(t=d.itemTextRefCallback)?void 0:t.call(d,e,u.value,u.disabled)}),g=null==h?void 0:h.textContent,x=t.useMemo(()=>(0,k.jsx)("option",{value:u.value,disabled:u.disabled,children:g},u.value),[u.disabled,u.value,g]),{onNativeOptionAdd:b,onNativeOptionRemove:w}=p;return(0,y.useLayoutEffect)(()=>(b(x),()=>w(x)),[b,w,x]),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(f.Primitive.span,{id:u.textId,...i,ref:v}),u.isSelected&&c.valueNode&&!c.valueNodeHasChildren?r.createPortal(i.children,c.valueNode):null]})});em.displayName=eh;var ef="SelectItemIndicator",ev=t.forwardRef((e,t)=>{let{__scopeSelect:r,...a}=e;return eu(ef,r).isSelected?(0,k.jsx)(f.Primitive.span,{"aria-hidden":!0,...a,ref:t}):null});ev.displayName=ef;var eg="SelectScrollUpButton",ex=t.forwardRef((e,r)=>{let a=J(eg,e.__scopeSelect),o=ee(eg,e.__scopeSelect),[n,l]=t.useState(!1),i=(0,s.useComposedRefs)(r,o.onScrollButtonChange);return(0,y.useLayoutEffect)(()=>{if(a.viewport&&a.isPositioned){let e=function(){l(t.scrollTop>0)},t=a.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[a.viewport,a.isPositioned]),n?(0,k.jsx)(ew,{...e,ref:i,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=a;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});ex.displayName=eg;var ey="SelectScrollDownButton",eb=t.forwardRef((e,r)=>{let a=J(ey,e.__scopeSelect),o=ee(ey,e.__scopeSelect),[n,l]=t.useState(!1),i=(0,s.useComposedRefs)(r,o.onScrollButtonChange);return(0,y.useLayoutEffect)(()=>{if(a.viewport&&a.isPositioned){let e=function(){let e=t.scrollHeight-t.clientHeight;l(Math.ceil(t.scrollTop)<e)},t=a.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[a.viewport,a.isPositioned]),n?(0,k.jsx)(ew,{...e,ref:i,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=a;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});eb.displayName=ey;var ew=t.forwardRef((e,r)=>{let{__scopeSelect:a,onAutoScroll:n,...s}=e,l=J("SelectScrollButton",a),i=t.useRef(null),c=R(a),d=t.useCallback(()=>{null!==i.current&&(window.clearInterval(i.current),i.current=null)},[]);return t.useEffect(()=>()=>d(),[d]),(0,y.useLayoutEffect)(()=>{var e;let t=c().find(e=>e.ref.current===document.activeElement);null==t||null==(e=t.ref.current)||e.scrollIntoView({block:"nearest"})},[c]),(0,k.jsx)(f.Primitive.div,{"aria-hidden":!0,...s,ref:r,style:{flexShrink:0,...s.style},onPointerDown:(0,o.composeEventHandlers)(s.onPointerDown,()=>{null===i.current&&(i.current=window.setInterval(n,50))}),onPointerMove:(0,o.composeEventHandlers)(s.onPointerMove,()=>{var e;null==(e=l.onItemLeave)||e.call(l),null===i.current&&(i.current=window.setInterval(n,50))}),onPointerLeave:(0,o.composeEventHandlers)(s.onPointerLeave,()=>{d()})})}),ej=t.forwardRef((e,t)=>{let{__scopeSelect:r,...a}=e;return(0,k.jsx)(f.Primitive.div,{"aria-hidden":!0,...a,ref:t})});ej.displayName="SelectSeparator";var eS="SelectArrow";t.forwardRef((e,t)=>{let{__scopeSelect:r,...a}=e,o=I(r),n=A(eS,r),s=J(eS,r);return n.open&&"popper"===s.position?(0,k.jsx)(h.Arrow,{...o,...a,ref:t}):null}).displayName=eS;var ek=t.forwardRef((e,r)=>{let{__scopeSelect:a,value:o,...n}=e,l=t.useRef(null),i=(0,s.useComposedRefs)(r,l),c=(0,b.usePrevious)(o);return t.useEffect(()=>{let e=l.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value").set;if(c!==o&&t){let r=new Event("change",{bubbles:!0});t.call(e,o),e.dispatchEvent(r)}},[c,o]),(0,k.jsx)(f.Primitive.select,{...n,style:{...w.VISUALLY_HIDDEN_STYLES,...n.style},ref:i,defaultValue:o})});function eC(e){return""===e||void 0===e}function eN(e){let r=(0,g.useCallbackRef)(e),a=t.useRef(""),o=t.useRef(0),n=t.useCallback(e=>{let t=a.current+e;r(t),function e(t){a.current=t,window.clearTimeout(o.current),""!==t&&(o.current=window.setTimeout(()=>e(""),1e3))}(t)},[r]),s=t.useCallback(()=>{a.current="",window.clearTimeout(o.current)},[]);return t.useEffect(()=>()=>window.clearTimeout(o.current),[]),[a,n,s]}function eE(e,t,r){var a,o;let n=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,s=r?e.indexOf(r):-1,l=(a=e,o=Math.max(s,0),a.map((e,t)=>a[(o+t)%a.length]));1===n.length&&(l=l.filter(e=>e!==r));let i=l.find(e=>e.textValue.toLowerCase().startsWith(n.toLowerCase()));return i!==r?i:void 0}ek.displayName="SelectBubbleInput";var eP=L,eR=H,eT=W,eD=B,e_=V,eI=U,eM=er,eA=es,eO=ei,ez=ep,eL=em,eF=ev,eH=ex,eq=eb,eW=ej},62870,99219,27994,e=>{"use strict";e.s(["Select",()=>i,"SelectContent",()=>p,"SelectGroup",()=>c,"SelectItem",()=>m,"SelectLabel",()=>h,"SelectTrigger",()=>u,"SelectValue",()=>d],62870);var t=e.i(43476),r=e.i(29402),a=e.i(78784),o=e.i(31171),o=o;e.s(["default",()=>s],99219);var n=e.i(75254);let s=(0,n.default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var l=e.i(47163);function i(e){let{...a}=e;return(0,t.jsx)(r.Root,{"data-slot":"select",...a})}function c(e){let{...a}=e;return(0,t.jsx)(r.Group,{"data-slot":"select-group",...a})}function d(e){let{...a}=e;return(0,t.jsx)(r.Value,{"data-slot":"select-value",...a})}function u(e){let{className:a,size:n="default",children:s,...i}=e;return(0,t.jsxs)(r.Trigger,{"data-slot":"select-trigger","data-size":n,className:(0,l.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...i,children:[s,(0,t.jsx)(r.Icon,{asChild:!0,children:(0,t.jsx)(o.default,{className:"size-4 opacity-50"})})]})}function p(e){let{className:a,children:o,position:n="popper",...s}=e;return(0,t.jsx)(r.Portal,{children:(0,t.jsxs)(r.Content,{"data-slot":"select-content",className:(0,l.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:n,...s,children:[(0,t.jsx)(f,{}),(0,t.jsx)(r.Viewport,{className:(0,l.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:o}),(0,t.jsx)(v,{})]})})}function h(e){let{className:a,...o}=e;return(0,t.jsx)(r.Label,{"data-slot":"select-label",className:(0,l.cn)("text-muted-foreground px-2 py-1.5 text-xs",a),...o})}function m(e){let{className:o,children:n,...s}=e;return(0,t.jsxs)(r.Item,{"data-slot":"select-item",className:(0,l.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",o),...s,children:[(0,t.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,t.jsx)(r.ItemIndicator,{children:(0,t.jsx)(a.CheckIcon,{className:"size-4"})})}),(0,t.jsx)(r.ItemText,{children:n})]})}function f(e){let{className:a,...o}=e;return(0,t.jsx)(r.ScrollUpButton,{"data-slot":"select-scroll-up-button",className:(0,l.cn)("flex cursor-default items-center justify-center py-1",a),...o,children:(0,t.jsx)(s,{className:"size-4"})})}function v(e){let{className:a,...n}=e;return(0,t.jsx)(r.ScrollDownButton,{"data-slot":"select-scroll-down-button",className:(0,l.cn)("flex cursor-default items-center justify-center py-1",a),...n,children:(0,t.jsx)(o.default,{className:"size-4"})})}e.s(["BrainIcon",()=>g],27994);let g=(0,n.default)("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]])},93996,e=>{"use strict";e.s(["getProviders",()=>t]);let t=async e=>{let t=await fetch("https://router.huggingface.co/v1/models/".concat(e)),{data:r}=await t.json();return r.providers.map(e=>e.provider)}},38701,e=>{"use strict";e.s(["Settings",()=>v]);var t=e.i(43476),r=e.i(43794),a=e.i(59377),o=e.i(16214),n=e.i(67881),s=e.i(62870),l=e.i(71645),i=e.i(83436),c=e.i(57688),d=e.i(27994),u=e.i(94771),p=e.i(64659),h=e.i(45812),m=e.i(93996),f=e.i(81771);function v(e){var v;let{open:g,onClose:x,error:y,isFollowUp:b=!1}=e,{model:w,provider:j,setProvider:S,setModel:k,selectedModel:C,globalAiLoading:N}=(0,h.useAi)(),[E,P]=(0,l.useState)(!1),[R,T]=(0,l.useState)(!1);(0,l.useEffect)(()=>{P(!0)},[]),(0,i.useUpdateEffect)(()=>{"auto"===j||_.includes(j)||S("auto")},[w,j]);let D=(0,l.useMemo)(()=>{let e=[],t=new Set;return o.MODELS.forEach(r=>{t.has(r.companyName)||(e.push({isCategory:!0,name:r.companyName,logo:r.logo}),t.add(r.companyName)),e.push(r)}),e},[o.MODELS]),[_,I]=(0,l.useState)([]),[M,A]=(0,l.useState)(new Set);return(0,l.useEffect)(()=>{(async()=>{if(T(!0),!w)return I([]);try{let e=await (0,m.getProviders)(w);I(e)}catch(e){console.error("Failed to load providers:",e),I([])}finally{T(!1)}})()},[w]),(0,t.jsxs)(a.Popover,{open:g,onOpenChange:x,children:[(0,t.jsx)(a.PopoverTrigger,{asChild:!0,children:(0,t.jsxs)(n.Button,{variant:g?"default":"outline",className:"!rounded-md",disabled:N||R,size:"xs",children:[(null==C?void 0:C.logo)&&(0,t.jsx)(c.default,{src:null==C?void 0:C.logo,alt:C.label,className:"size-3.5 ".concat(g?"":"filter invert"),width:20,height:20}),(0,t.jsx)("span",{className:"truncate max-w-[120px]",children:E?null==C||null==(v=C.label)?void 0:v.split(" ").join("-").toLowerCase():"..."}),(0,t.jsx)(p.ChevronDown,{className:"size-3.5"})]})}),(0,t.jsxs)(a.PopoverContent,{className:"!rounded-2xl p-0 !w-96 overflow-hidden !bg-neutral-900",align:"center",children:[(0,t.jsx)("header",{className:"flex items-center justify-center text-sm px-4 py-3 border-b gap-2 bg-neutral-950 border-neutral-800 font-semibold text-neutral-200",children:"Customize Settings"}),(0,t.jsxs)("main",{className:"px-4 pt-5 pb-6 space-y-5",children:[""!==y&&(0,t.jsx)("p",{className:"text-red-500 text-sm font-medium mb-2 flex items-center justify-between bg-red-500/10 p-2 rounded-md",children:y}),(0,t.jsxs)("label",{className:"block",children:[(0,t.jsx)("p",{className:"text-neutral-300 text-sm mb-2.5",children:"Choose a model"}),(0,t.jsxs)(s.Select,{defaultValue:w,onValueChange:k,children:[(0,t.jsx)(s.SelectTrigger,{className:"w-full",children:(0,t.jsx)(s.SelectValue,{placeholder:"Select a model"})}),(0,t.jsx)(s.SelectContent,{children:(0,t.jsx)(s.SelectGroup,{children:D.map(e=>{if("isCategory"in e)return(0,t.jsx)(s.SelectLabel,{className:"flex items-center gap-1",children:e.name},e.name);let{value:r,label:a,isNew:o=!1,isThinker:n=!1}=e;return(0,t.jsxs)(s.SelectItem,{value:r,className:"",disabled:n&&b,children:[a,o&&(0,t.jsx)("span",{className:"text-xs bg-gradient-to-br from-sky-400 to-sky-600 text-white rounded-full px-1.5 py-0.5",children:"New"})]},r)})})})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-neutral-300 text-sm mb-1.5",children:"Use auto-provider"}),(0,t.jsx)("p",{className:"text-xs text-neutral-400/70",children:"We'll automatically select the best provider for you based on your prompt."})]}),(0,t.jsx)("div",{className:(0,r.default)("bg-neutral-700 rounded-full min-w-10 w-10 h-6 flex items-center justify-between p-1 cursor-pointer transition-all duration-200",{"!bg-sky-500":"auto"===j}),onClick:()=>{let e=o.MODELS.find(e=>e.value===w);"auto"===j&&(null==e?void 0:e.autoProvider)?S(e.autoProvider):S("auto")},children:(0,t.jsx)("div",{className:(0,r.default)("w-4 h-4 rounded-full shadow-md transition-all duration-200 bg-neutral-200",{"translate-x-4":"auto"===j})})})]}),(0,t.jsxs)("label",{className:"block",children:[(0,t.jsx)("p",{className:"text-neutral-300 text-sm mb-2",children:"Inference Provider"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-1.5 relative",children:R?(0,t.jsx)(f.default,{overlay:!1}):_.map(e=>{var r;return(0,t.jsxs)(n.Button,{variant:e===j?"default":"secondary",size:"sm",onClick:()=>{S(e)},children:[M.has(e)?(0,t.jsx)(d.BrainIcon,{className:"size-4 mr-2"}):(0,t.jsx)(c.default,{src:"/deepsite/providers/".concat(e,".svg"),alt:e,className:"size-5 mr-2",width:20,height:20,onError:()=>{A(t=>new Set([...t,e]))}}),(null===o.PROVIDERS||void 0===o.PROVIDERS||null==(r=o.PROVIDERS[e])?void 0:r.name)||e,e===j&&(0,t.jsx)(u.CheckCheck,{className:"ml-2 size-4 text-blue-500"})]},e)})})]})]})]})]})]})}}]);